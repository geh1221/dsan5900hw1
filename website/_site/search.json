[
  {
    "objectID": "admit_trends.html",
    "href": "admit_trends.html",
    "title": "Admit Trends",
    "section": "",
    "text": "Code\nlibrary(tidyverse)\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.2     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\n\nCode\nlibrary(ggplot2)\nlibrary(gt)\nlibrary(forcats)\n\n\n\n\nCode\ndata &lt;- read.csv(\"../data/cleaned_data/data_cleaned.csv\")\n\n\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Admit\", \"Waitlist\", \"Decline\")) %&gt;%\n  group_by(Decision) %&gt;%\n  summarize(\"Test Score\" = mean(TestScore), \"Writing Score\" = mean(WritingScore), \"GPA\" = mean(GPA), \"Work Experience\" = mean(WorkExp), \"Volunteer Level\" = mean(VolunteerLevel)) %&gt;%\n  gt() %&gt;%\n  fmt_number(\n    columns = c(`GPA`), \n    decimals = 2,\n    use_seps = FALSE\n  ) %&gt;%\n  fmt_number(\n    columns = c(`Test Score`, `Writing Score`, `Work Experience`, `Volunteer Level`), \n    decimals = 1,\n    use_seps = FALSE\n  )%&gt;%\n  tab_header(title = md(\"Average scores for students by decision\"))\n\n\n\n\n\n\n  \n    \n      Average scores for students by decision\n    \n    \n    \n      Decision\n      Test Score\n      Writing Score\n      GPA\n      Work Experience\n      Volunteer Level\n    \n  \n  \n    Admit\n960.2\n91.2\n3.74\n2.1\n2.2\n    Waitlist\n865.7\n82.5\n3.49\n2.2\n2.6\n    Decline\n780.1\n74.1\n3.25\n2.2\n2.6\n  \n  \n  \n\n\n\n\n\nExploring Student Statistics Based on Admit Decision\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  group_by(Decision) %&gt;%\n  summarize(\"Test Score\" = mean(TestScore), \"Writing Score\" = mean(WritingScore), \"GPA\" = mean(GPA), \"Work Experience\" = mean(WorkExp), \"Volunteer Level\" = mean(VolunteerLevel)) %&gt;%\n  ggplot() + geom_col(aes(y = Decision, x = `Test Score`, fill = Decision)) + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal() + labs(title = \"Admission decision by test score\", x = \"Average Test Score\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  group_by(Decision) %&gt;%\n  summarize(\"Test Score\" = mean(TestScore), \"Writing Score\" = mean(WritingScore), \"GPA\" = mean(GPA), \"Work Experience\" = mean(WorkExp), \"Volunteer Level\" = mean(VolunteerLevel)) %&gt;%\n  ggplot() + geom_col(aes(y = Decision, x = `Writing Score`, fill = Decision)) + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal() + labs(title = \"Admission decision by writing score\", x = \"Average Writing Score\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  group_by(Decision) %&gt;%\n  summarize(\"Test Score\" = mean(TestScore), \"Writing Score\" = mean(WritingScore), \"GPA\" = mean(GPA), \"Work Experience\" = mean(WorkExp), \"Volunteer Level\" = mean(VolunteerLevel)) %&gt;%\n  ggplot() + geom_col(aes(y = Decision, x = `GPA`, fill = Decision)) + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal() + labs(title = \"Admission decision by GPA\", x= \"Average GPA\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  group_by(Decision) %&gt;%\n  summarize(\"Test Score\" = mean(TestScore), \"Writing Score\" = mean(WritingScore), \"GPA\" = mean(GPA), \"Work Experience\" = mean(WorkExp), \"Volunteer Level\" = mean(VolunteerLevel)) %&gt;%\n  ggplot() + geom_col(aes(y = Decision, x = `Volunteer Level`, fill = Decision)) + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal() + labs(title = \"Admission decision by volunteer level\", x = \"Average Volunteer Level\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  group_by(Decision) %&gt;%\n  summarize(\"Test Score\" = mean(TestScore), \"Writing Score\" = mean(WritingScore), \"GPA\" = mean(GPA), \"Work Experience\" = mean(WorkExp), \"Volunteer Level\" = mean(VolunteerLevel)) %&gt;%\n  ggplot() + geom_col(aes(y = Decision, x = `Work Experience`, fill = Decision)) + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal() + labs(title = \"Admission decision by work experience\", x = \"Average Work Experience (years)\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nProportions of Admissions Based on Each Variable\n\nDemographics\n\n\nCode\ndata$Gender &lt;- as.factor(data$Gender)\n\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  mutate(Gender = ifelse(Gender == 0,\"Female\",\"Male\")) %&gt;%\n  ggplot() + geom_bar(aes(y = Gender, fill = Decision), position = \"fill\") + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal()  +labs(title = \"Admission proportion by gender\", x = \"Proportion\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  ggplot() + geom_bar(aes(y = State, fill = Decision), position = \"fill\") + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal()  +labs(title = \"Admission proportion by state\", x = \"Proportion\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nScores\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  mutate(GPA = ifelse(GPA &gt;= 3.9,\"3.9+\",\n                    ifelse(GPA &gt;= 3.8,\"3.8-3.9\",\n                           ifelse(GPA &gt;= 3.7,\"3.7-3.8\",\n                                  ifelse(GPA &gt;= 3.6,\"3.6-3.7\",\n                                         ifelse(GPA &gt;= 3.5,\"3.5-3.6\",\n                                          ifelse(GPA &gt;= 3.4,\"3.4-3.5\",\n                                          ifelse(GPA &gt;= 3.3,\"3.3-3.4\",\n                                          ifelse(GPA &gt;= 3.2,\"3.2-3.3\",\n                                          ifelse(GPA &gt;= 3.1,\"3.1-3.2\",\n                                          ifelse(GPA &gt;= 3.0,\"3.0-3.1\", \"3.0 or Lower\"))))))))))) %&gt;%\n  ggplot() + geom_bar(aes(y = GPA, fill = Decision), position = \"fill\") + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal()  +labs(title = \"Admission proportion by GPA\", x = \"Proportion\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  mutate(TestScore = ifelse(TestScore &gt;= 900,\"900 or higher\",\n                    ifelse(TestScore &gt;= 800,\"800 to 900\",\"799 or lower\"))) %&gt;%\n  ggplot() + geom_bar(aes(y = TestScore, fill = Decision), position = \"fill\") + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal()  +labs(title = \"Admission proportion by test score\", x = \"Proportion\", y = \"Test Score\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  mutate(WritingScore = ifelse(WritingScore &gt;= 90,\"90 or higher\",\n                    ifelse(WritingScore &gt;= 80,\"80 to 90\",\"79 or lower\"))) %&gt;%\n  ggplot() + geom_bar(aes(y = WritingScore, fill = Decision), position = \"fill\") + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal()  +labs(title = \"Admission proportion by writing score\", x = \"Proportion\", y = \"Writing Score\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nExperience\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  ggplot() + geom_bar(aes(y = VolunteerLevel, fill = Decision), position = \"fill\") + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal()  +labs(title = \"Admission proportion by volunteer level\", x = \"Proportion\", y = \"Volunteer Level\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\nCode\ndata$WorkExpquintile &lt;- ntile(data$WorkExp, 5)\n\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Decline\", \"Waitlist\", \"Admit\")) %&gt;%\n  ggplot() + geom_bar(aes(y = WorkExpquintile, fill = Decision), position = \"fill\") + scale_fill_manual(values = c(\"firebrick\", \"darkgoldenrod1\", \"yellowgreen\")) + theme_minimal()  +labs(title = \"Admission proportion by work experience\", x = \"Proportion\", y = \"Work Experience (in quintiles)\") + theme(plot.title = element_text(hjust = 0.5))\n\n\n\n\n\n\n\n\nCorrelation Between Variables\n\n\nCode\nlibrary(reshape2)\n\n\n\nAttaching package: 'reshape2'\n\n\nThe following object is masked from 'package:tidyr':\n\n    smiths\n\n\nCode\ncorr_data &lt;- data %&gt;%\n  mutate(Decision = ifelse(Decision == \"Admit\",1,\n                           ifelse(Decision == \"Waitlist\", 0,\n                                  ifelse(Decision == \"Decline\", -1, NA)))) %&gt;%\n  subset(select = -c(X, State, WorkExpquintile))\ncorr_data$Gender &lt;- as.numeric(corr_data$Gender)\n\ncorr_mat &lt;- round(cor(corr_data),2)\ndist &lt;- as.dist((1-corr_mat)/2)\nhc &lt;- hclust(dist)\ncorr_mat &lt;-corr_mat[hc$order, hc$order]\n\n\n\n\nCode\nmelted_corr_mat &lt;- melt(corr_mat)\n\nmelted_corr_mat &lt;- melted_corr_mat %&gt;%\n  mutate(row = as.numeric(factor(Var1, levels = colnames(corr_mat))),\n         col = as.numeric(factor(Var2, levels = colnames(corr_mat)))) %&gt;%\n  filter(row &gt;= col)\nggplot(data = melted_corr_mat, aes(x=Var1, y=Var2,\n                                   fill=value)) + \ngeom_tile() + theme_minimal() + labs(title = \"Correlation between all variables\", x = \"Variable 1\", y = \"Variable 2\") + theme(plot.title = element_text(hjust = 0.5)) + scale_fill_gradient(low = \"white\", high = \"lightblue\")\n\n\n\n\n\n\n\nRelationship Between Test Score and Other Variables\n\nDemographics\n\n\nCode\ndata %&gt;%\n  group_by(Gender) %&gt;%\n  summarize(`Test Score` = mean(TestScore)) %&gt;%\n  ggplot() + geom_col(aes(x = Gender, y = `Test Score`), fill = \"grey70\") + theme_minimal()\n\n\n\n\n\n\n\nCode\ndata %&gt;%\n  group_by(State) %&gt;%\n  summarize(`Test Score` = mean(TestScore), `Percent Admitted` = mean(Decision == \"Admit\")) %&gt;%\n  mutate(State = fct_reorder(State, `Percent Admitted`)) %&gt;%\n  ggplot() + geom_col(aes(x = State, y = `Test Score`, fill = `Percent Admitted`)) + scale_fill_gradient(low = \"grey80\", high = \"yellowgreen\") + theme_minimal() + coord_flip()\n\n\n\n\n\n\n\nScores\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Admit\", \"Waitlist\", \"Decline\")) %&gt;%\n  ggplot() + geom_point(aes(x=TestScore, y=GPA, color = Decision)) + scale_color_manual(values = c(\"yellowgreen\", \"darkgoldenrod1\", \"firebrick\")) +theme_minimal() + theme(plot.title = element_text(hjust = 0.5)) + labs(title = \"GPA and Test Score\", x = \"Test Score\")\n\n\n\n\n\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Admit\", \"Waitlist\", \"Decline\")) %&gt;%\n  ggplot() + geom_point(aes(x=TestScore, y=WritingScore, color = Decision)) + scale_color_manual(values = c(\"yellowgreen\", \"darkgoldenrod1\", \"firebrick\")) +theme_minimal() + theme(plot.title = element_text(hjust = 0.5)) + labs(title = \"Writing Score and Test Score\", x = \"Test Score\", y = \"Writing Score\")\n\n\n\n\n\n\n\nExperience\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Admit\", \"Waitlist\", \"Decline\")) %&gt;%\n  ggplot() + geom_point(aes(x=TestScore, y=WorkExp, color = Decision)) + scale_color_manual(values = c(\"yellowgreen\", \"darkgoldenrod1\", \"firebrick\")) +theme_minimal() + theme(plot.title = element_text(hjust = 0.5)) + labs(title = \"Work Experience and Test Score\", x = \"Test Score\", y = \"Work Experience (years)\")\n\n\n\n\n\n\n\nCode\ndata %&gt;%\n  mutate(Decision = fct_relevel(Decision, \"Admit\", \"Waitlist\", \"Decline\")) %&gt;%\n  ggplot() + geom_point(aes(x=TestScore, y=VolunteerLevel, color = Decision)) + scale_color_manual(values = c(\"yellowgreen\", \"darkgoldenrod1\", \"firebrick\")) +theme_minimal() + theme(plot.title = element_text(hjust = 0.5)) + labs(title = \"Volunteer Level and Test Score\", x = \"Test Score\", y = \"Volunteer Level\")"
  }
]